{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import { SupabaseClient } from \"@supabase/supabase-js\";\n\nexport class SupabasePageHandler<Database> {\n  private client: SupabaseClient<Database>;\n  private tableName: string;\n  private columns: string;\n  private limit: number;\n  constructor(\n    client: SupabaseClient<Database>,\n    tableName: string = \"\",\n    columns: string = \"*\",\n    limit: number = 10\n  ) {\n    this.client = client;\n    this.tableName = tableName;\n    this.columns = columns;\n    this.limit = limit;\n  }\n\n  setTableName(tableName: string) {\n    this.tableName = tableName;\n  }\n\n  setLimit(limit: number) {\n    this.limit = limit;\n  }\n\n  setColumns(columns: string) {\n    this.columns = columns;\n  }\n\n  getHandlerProps() {\n    return {\n      tableName: this.tableName,\n      columns: this.columns,\n      limit: this.limit,\n    };\n  }\n\n  async getDataAll() {\n    const data = await this.client.from(this.tableName).select(this.columns);\n    return data;\n  }\n\n  async getPage(page: number): Promise<{ data: any; nextPage: number | null }> {\n    const to = (page - 1) * this.limit;\n    const from = page * this.limit;\n    const { data } = await this.client\n      .from(this.tableName)\n      .select(this.columns)\n      .range(to, from);\n\n    if (!data || data?.length < 1) return { data: null, nextPage: null };\n\n    if (data.length > this.limit) {\n      // \uB2E4\uC74C \uD398\uC774\uC9C0\uAC00 \uC788\uB2E4\uB294 \uB73B.\n      const response = data.slice(0, this.limit);\n      const nextPage = page + 1;\n      return { data: response, nextPage };\n    } else {\n      // \uB2E4\uC74C \uD398\uC774\uC9C0\uAC00 \uC5C6\uB2E4\uB294 \uB73B.\n      const nextPage = null;\n      return { data, nextPage };\n    }\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,IAAM,sBAAN,MAAoC;AAAA,EAKzC,YACE,QACA,YAAoB,IACpB,UAAkB,KAClB,QAAgB,IAChB;AACA,SAAK,SAAS;AACd,SAAK,YAAY;AACjB,SAAK,UAAU;AACf,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,aAAa,WAAmB;AAC9B,SAAK,YAAY;AAAA,EACnB;AAAA,EAEA,SAAS,OAAe;AACtB,SAAK,QAAQ;AAAA,EACf;AAAA,EAEA,WAAW,SAAiB;AAC1B,SAAK,UAAU;AAAA,EACjB;AAAA,EAEA,kBAAkB;AAChB,WAAO;AAAA,MACL,WAAW,KAAK;AAAA,MAChB,SAAS,KAAK;AAAA,MACd,OAAO,KAAK;AAAA,IACd;AAAA,EACF;AAAA,EAEA,MAAM,aAAa;AACjB,UAAM,OAAO,MAAM,KAAK,OAAO,KAAK,KAAK,SAAS,EAAE,OAAO,KAAK,OAAO;AACvE,WAAO;AAAA,EACT;AAAA,EAEA,MAAM,QAAQ,MAA+D;AAC3E,UAAM,MAAM,OAAO,KAAK,KAAK;AAC7B,UAAM,OAAO,OAAO,KAAK;AACzB,UAAM,EAAE,KAAK,IAAI,MAAM,KAAK,OACzB,KAAK,KAAK,SAAS,EACnB,OAAO,KAAK,OAAO,EACnB,MAAM,IAAI,IAAI;AAEjB,QAAI,CAAC,QAAQ,MAAM,SAAS,EAAG,QAAO,EAAE,MAAM,MAAM,UAAU,KAAK;AAEnE,QAAI,KAAK,SAAS,KAAK,OAAO;AAE5B,YAAM,WAAW,KAAK,MAAM,GAAG,KAAK,KAAK;AACzC,YAAM,WAAW,OAAO;AACxB,aAAO,EAAE,MAAM,UAAU,SAAS;AAAA,IACpC,OAAO;AAEL,YAAM,WAAW;AACjB,aAAO,EAAE,MAAM,SAAS;AAAA,IAC1B;AAAA,EACF;AACF;",
  "names": []
}
